version: 1

component:
  area: item-players
  underTest: "pie-item-player (strategy=iife)"

examplesApp:
  app: "@pie-framework/pie-players-example"
  routeTemplate: "/evals/item-player/{sampleId}?player={player}&mode={mode}&role={role}"

evals:
  - id: item-players/mc_basic/evaluate-instructor/iife
    sampleId: mc_basic
    gradeBand: "K-12"
    subject: "general"
    severity: warn
    intent: "Evaluate+instructor mode should load and be stable (correct-response behavior may vary per element)."
    steps:
      - action: navigate
        path: "/evals/item-player/mc_basic?player=iife&mode=evaluate&role=instructor"
      - action: observe
        target: { testId: sample-id }
        expect: { equals: "mc_basic" }

  - id: item-players/passage/load-view/iife
    sampleId: passage
    gradeBand: "K-12"
    subject: "ela"
    severity: warn
    intent: "Passage-type item should render in view mode without crashing (bundle availability dependent)."
    steps:
      - action: navigate
        path: "/evals/item-player/passage?player=iife&mode=view&role=student"
      - action: observe
        target: { testId: sample-id }
        expect: { equals: "passage" }

  - id: item-players/mc_basic/browse-mode/iife
    sampleId: mc_basic
    gradeBand: "K-12"
    subject: "general"
    severity: warn
    intent: "Browse mode should load with correct responses populated (maps to view+instructor+addCorrectResponse)."
    notes:
      - "Browse mode automatically shows correct answers by calling createCorrectResponseSession"
      - "This is useful for authoring and review workflows"
    steps:
      - action: navigate
        path: "/evals/item-player/mc_basic?player=iife&mode=browse"
      - action: observe
        target: { testId: sample-id }
        expect: { equals: "mc_basic" }
      - action: observe
        target: { testId: player-mode }
        expect: { equals: "browse" }
      - action: observe
        target: { testId: player-role }
        expect: { equals: "instructor" }


